<!doctype html><html lang=en><head><title>Comandos Básicos con Docker - 2da Parte ::
Sysarmy — El blog de quienes dan soporte</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Además de crear, ejecutar, detener y eliminar contenedores como explicamos en nuestro post previo hay muchas más operaciones que podemos realizar. Entre ellas se destacan el ver la configuración, darle almacenamiento persistente, e inspeccionar sus logs. En este artículo veremos ejemplos de cada una de estas acciones. Para poder ilustrarlas mejor, crearemos un nuevo contenedor con opciones adicionales.
Comandos de administración La salida de docker help devuelve dos secciones claramente separadas: Management Commands (agrupados por categoría) y la más genérica Commands (a secas). Ambos conjuntos nos permiten interactuar con Docker pero hasta este momento hemos utilizado los últimos exclusivamente. Sin embargo, es recomendable acostumbrarnos a utilizar los primeros por una cuestión de consistencia. Veamos la razón.
"><meta name=keywords content="containers,docker,dockerhub,linux"><meta name=robots content="noodp"><link rel=canonical href=https://sysarmy.com/blog/posts/docker-comandos-basicos-segunda-parte/><link rel=stylesheet href=https://sysarmy.com/blog/assets/style.css><link rel=stylesheet href=https://sysarmy.com/blog/style.css><link rel=apple-touch-icon-precomposed sizes=144x144 href=https://sysarmy.com/blog/img/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=https://sysarmy.com/blog/img/favicon.png><link href=https://sysarmy.com/blog/assets/fonts/Inter-Italic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://sysarmy.com/blog/assets/fonts/Inter-Regular.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://sysarmy.com/blog/assets/fonts/Inter-Medium.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://sysarmy.com/blog/assets/fonts/Inter-MediumItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://sysarmy.com/blog/assets/fonts/Inter-Bold.woff2 rel=preload type=font/woff2 as=font crossorigin><link href=https://sysarmy.com/blog/assets/fonts/Inter-BoldItalic.woff2 rel=preload type=font/woff2 as=font crossorigin><meta name=twitter:card content="summary"><meta name=twitter:title content="Comandos Básicos con Docker - 2da Parte"><meta name=twitter:description content="Comandos Básicos con Docker - 2da Parte"><script>(function(e,t,n,s,o){e[s]=e[s]||[],e[s].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var a=t.getElementsByTagName(n)[0],i=t.createElement(n),r=s!="dataLayer"?"&l="+s:"";i.async=!0,i.src="https://www.googletagmanager.com/gtm.js?id="+o+r,a.parentNode.insertBefore(i,a)})(window,document,"script","dataLayer","GTM-MW9RRK2")</script><script>function loadScript(e){var n=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="https://tracker.metricool.com/resources/be.js",t.onreadystatechange=e,t.onload=e,n.appendChild(t)}loadScript(function(){beTracker.t({hash:"b5c0b4816e829c93645aa7ad738aa3c0"})})</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-K4QJX7Y34Y"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-K4QJX7Y34Y")</script></head><body class=dark-theme><div class=container><header class=header><span class=header__inner><a href=/blog class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>sysarmy:~ blog$</span>
<span class=logo__cursor></span>
</a><span class=header__right><nav class=menu><ul class="menu__inner menu__inner--desktop"><li><a href=https://tienda.sysarmy.com/>Tienda</a></li><li><a href=https://www.youtube.com/channel/UCPE3EUzO58EBHzrJp2Fv7_A>Youtube</a></li></ul><ul class="menu__inner menu__inner--mobile"><li><a href=https://tienda.sysarmy.com/>Tienda</a></li><li><a href=https://www.youtube.com/channel/UCPE3EUzO58EBHzrJp2Fv7_A>Youtube</a></li></ul></nav><span class=menu-trigger><svg viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span><span class=theme-toggle><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></span></span></span></header><div class=content><div class=post><h1 class=post-title>Comandos Básicos con Docker - 2da Parte</h1><div class=post-meta><span class=post-date>July 2, 2020
</span><span class=post-read-time>— 4 minutos de lectura aprox.</span></div><span class=post-tags><a href=https://sysarmy.com/blog/tags/sysarmy/>#sysarmy</a>&nbsp;
<a href=https://sysarmy.com/blog/tags/docker/>#docker</a>&nbsp;
<a href=https://sysarmy.com/blog/tags/containers/>#containers</a>&nbsp;
<a href=https://sysarmy.com/blog/tags/sistemas/>#sistemas</a>&nbsp;</span><figure class=post-cover><img src=https://sysarmy.com/blog/assets/docker-thumbnail.png alt="Comandos Básicos con Docker - 2da Parte"></figure><div class=post-content><base href=https://sysarmy.com/blog/><p>Además de crear, ejecutar, detener y eliminar contenedores como explicamos en <a href=/blog/posts/docker-comandos-basicos-primera-parte/>nuestro post previo</a> hay muchas más operaciones que podemos realizar. Entre ellas se destacan el ver la configuración, darle almacenamiento persistente, e inspeccionar sus logs. En este artículo veremos ejemplos de cada una de estas acciones. Para poder ilustrarlas mejor, crearemos un nuevo contenedor con opciones adicionales.</p><h2 id=comandos-de-administración>Comandos de administración</h2><p>La salida de <code>docker help</code> devuelve dos secciones claramente separadas: <strong>Management Commands</strong> (agrupados por categoría) y la más genérica <strong>Commands</strong> (a secas). Ambos conjuntos nos permiten interactuar con Docker pero hasta este momento hemos utilizado los últimos exclusivamente. Sin embargo, es recomendable acostumbrarnos a utilizar los primeros por una cuestión de consistencia. Veamos la razón.</p><p>En el artículo anterior aprendimos a mostrar la lista de imágenes y contenedores de la siguiente manera:</p><pre><code>docker images
docker ps -a
</code></pre><p>Si bien el primer ejemplo nos da una idea que se refiere a imágenes, no es muy claro qué acción va a realizar. Por otra parte, el último no nos da ninguna pista sobre lo que hace. Sin embargo, al emplear los comandos de administración equivalentes obtenemos el mismo resultado de una forma más fácil de recordar:</p><pre><code>docker image ls
docker container ls -a
</code></pre><p>Estos últimos consisten de <code>docker</code> seguido del tipo de recurso (<code>image</code>, <code>container</code>, etc) y de <code>ls</code> para mostrar la lista. De ahora en adelante, utilizaremos estos comandos siempre que sea posible.</p><h2 id=crear-un-contenedor-con-opciones-adicionales>Crear un contenedor con opciones adicionales</h2><p>Para comenzar, vamos a poner en práctica los comandos de administración empleando la imagen <strong>nginx</strong> para crear un nuevo contenedor. Al mismo tiempo, agregamos dos opciones que van a ser útiles para poder acceder a este.</p><pre><code>docker container run --name=sysarmy-nginx --publish 8080:80 --detach --mount source=sysarmy-webapp,target=/usr/share/nginx/html nginx
</code></pre><p>donde:</p><ul><li><p><code>--publish</code> permite vincular un puerto del host con uno del contenedor. En este caso, con <code>--publish 8080:80</code> se indica que el acceso al puerto 80 de <strong>sysarmy-nginx</strong> se realizará a partir del 8080 en el host. Al poder mapear puertos públicos a otros internos, podemos ejecutar múltiples instancias de nuestra aplicación (o apps distintas) en el mismo host.</p></li><li><p><code>--detach</code> hace que el contenedor se ejecute en segundo plano para poder continuar utilizando la terminal.</p></li><li><p><code>--mount=sysarmy-webapp,target=/usr/share/nginx/html</code> crea un volumen llamado <strong>sysarmy-webapp</strong> en el equipo host y lo monta en <strong>/usr/share/nginx/html</strong> en el contenedor.</p></li></ul><blockquote><p>El <a href=https://docs.docker.com/storage/volumes/>uso de volúmenes</a> es el método recomendado para implementar almacenamiento persistente ya que es manejado enteramente por Docker. No depende de la estructura de directorios del host.</p></blockquote><p>Dicho de otra manera, el contenedor que acabamos de crear servirá el contenido del volumen <strong>sysarmy-webapp</strong>. Para saber dónde reside ese volumen con el fin de agregar archivos al mismo, podemos usar el comando cuya salida vemos en la imagen siguiente:</p><pre><code>docker volume inspect sysarmy-webapp
</code></pre><p>que indica claramente la acción que nos proponemos llevar a cabo.</p><p><img src=assets/docker-volume-inspect-1.png alt="Inspeccionar volumen utilizado en el contenedor"></p><p>Ahora que sabemos que el volumen está ubicado en <strong>/var/lib/docker/volumes/sysarmy-webapp/_data</strong>, vamos a insertar contenido en el mismo para que el contenedor lo muestre.</p><h2 id=agregar-archivos-en-el-volumen>Agregar archivos en el volumen</h2><p>Como primer paso, añadamos un archivo <strong>index.html</strong> y una copia de la <a href=https://github.com/moby/moby/blob/master/LICENSE>licencia Apache 2.0</a> al volumen:</p><p><img src=assets/docker-agregar-archivos-volumen-1.png alt="Agregar archivos a un volumen"></p><p>Como ejemplo, usamos el siguiente <strong>index.html</strong> básico:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=color:#f92672>body</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>h1</span> <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;color: green&#34;</span>&gt;Mi contenedor de nginx&lt;/<span style=color:#f92672>h1</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>p</span>&gt;Descargar una copia de la &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;apache-2.0-license.txt&#34;</span> <span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;_blank&#34;</span>&gt;licencia Apache 2.0&lt;/<span style=color:#f92672>a</span>&gt;&lt;/<span style=color:#f92672>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>body</span>&gt;
</span></span></code></pre></div><p>Si ahora abrimos un navegador web y apuntamos a la dirección IP o nombre del host, deberíamos ver la página servida por el contenedor <strong>sysarmy-nginx</strong>:</p><p><img src=assets/docker-nginx-servir-archivos-1.png alt="Comprobar que el contenedor funciona correctamente"></p><p>También podemos ver los logs del contenedor (la opción <code>-f</code> nos permite ver la actividad del log en tiempo real):</p><pre><code>docker container logs sysarmy-nginx -f
</code></pre><p><img src=assets/docker-container-logs.png alt="Inspeccionar los logs del contenedor"></p><p>En la imagen de arriba podemos ver que aparte de nosotros, alguien desde la IP 116.197.128.47 accedió a la raíz del sitio utilizando una versión muy antigua de Google Chrome (¡o quizás también falsearon ese dato, como probablemente lo hicieron con la dirección!). Para quedarnos tranquilos, podemos detener <strong>sysarmy-nginx</strong> por el momento con:</p><pre><code>docker container stop sysarmy-nginx
</code></pre><p>ya que no lo necesitaremos funcionando para la próxima sección.</p><h2 id=ver-la-configuración-del-contenedor>Ver la configuración del contenedor</h2><p>El comando <code>docker container inspect</code>, seguido del nombre del contenedor, nos devuelve información muy detallada sobre el mismo en formato JSON. Para poder consumirla más cómodamente, podemos recurrir a la opción <code>--format</code> e indicar qué sección particular nos interesa. Por ejemplo:</p><pre><code>docker container inspect --format='{{json .State}}' sysarmy-nginx 
docker container inspect --format='{{json .Mounts}}' sysarmy-nginx
</code></pre><p>Aunque la salida de los comandos anteriores no está formateada como acostumbramos ver un archivo <strong>.json</strong>, es más compacta que el resultado de ejecutar <code>docker container inspect</code> sobre el contenedor. Depende de nosotros cuál alternativa usaremos en un momento dado.</p><h2 id=conclusión>Conclusión</h2><p>En este artículo aprendimos a utilizar los comandos de administración de Docker para realizar las tareas que ya conocíamos y otras nuevas. Si nos acostumbramos a emplearlos, nos resultará más fácil identificar qué es lo que cada uno hace con tan solamente mirarlos.</p><div class=ve-desktop><ins class=dcmads style=display:inline-block;width:728px;height:90px data-dcm-placement=N410401.3634809SYSARMY.COMBLOG/B10464038.251052924 data-dcm-rendering-mode=iframe data-dcm-https-only data-dcm-resettable-device-id data-dcm-app-id><script src=https://www.googletagservices.com/dcm/dcmads.js></script></ins></div><div class=ve-mobile><ins class=dcmads style=display:inline-block;width:320px;height:50px data-dcm-placement=N410401.3634809SYSARMY.COMBLOG/B10464038.250920272 data-dcm-rendering-mode=iframe data-dcm-https-only data-dcm-resettable-device-id data-dcm-app-id><script src=https://www.googletagservices.com/dcm/dcmads.js></script></ins></div><script>if(window.innerWidth<960)for(var divsToHide=document.getElementsByClassName("ve-desktop"),i=0;i<divsToHide.length;i++)divsToHide[i].style.visibility="hidden",divsToHide[i].style.display="none";else for(divsToHide=document.getElementsByClassName("ve-mobile"),i=0;i<divsToHide.length;i++)divsToHide[i].style.visibility="hidden",divsToHide[i].style.display="none"</script></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Leer otros posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://sysarmy.com/blog/posts/polemicaenvar-s04e04-1x-engineers/><span class=button__icon>←</span>
<span class=button__text>Polémica en /var S04E04 - Tips para 1x engineers</span>
</a></span><span class="button next"><a href=https://sysarmy.com/blog/posts/docker-comandos-basicos-primera-parte/><span class=button__text>Comandos Básicos con Docker - 1era Parte</span>
<span class=button__icon>→</span></a></span></div></div></div></div><footer class=footer><div class=footer__inner><a href=/blog class=logo style=text-decoration:none><span class=logo__mark><svg class="greater-icon" viewBox="0 0 44 44"><path fill="none" d="M15 8l14.729 14.382L15 35.367"/></svg>
</span><span class=logo__text>sysarmy:~ blog$</span>
<span class=logo__cursor></span></a><div class=copyright><span>© 2025 Powered by
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a></span>
<span>Theme created by
<a href=https://twitter.com/panr target=_blank rel=noopener>panr</a></span></div></div></footer><script src=https://sysarmy.com/blog/assets/main.js></script><script src=https://sysarmy.com/blog/assets/prism.js></script></div></body></html>